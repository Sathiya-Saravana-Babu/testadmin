(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{"5uzx":function(e,t,n){"use strict";n.r(t),n.d(t,"ContentsModule",(function(){return q}));var a=n("ofXK"),i=n("tyNb"),o=n("mrSG"),l=n("aceb"),r=n("sAl5"),s=n("fXoL");let c=(()=>{class e{constructor(e){this.common=e,this.formData={}}setFormData(e){this.formData=e,console.log(this.getFormData())}getFormData(){return this.formData}contentsFormValidation(e){return Object(o.a)(this,void 0,void 0,(function*(){let t=e.section_name,n=e.page_name;if("slider"==t)return null==e.page_name||""==e.page_name?(this.common.presentToast("Please choose the page","Error"),!1):""!=e.section_image&&null!=e.section_image||(this.common.presentToast("Please choose image","Error"),!1);if("banner"==t)return null!=e.section_image&&""!=e.section_image||(this.common.presentToast("Please choose the image","Error"),!1);if("social_link"==t){let t=/^(https?|chrome):\/\/[^\s$.?#].[^\s]*$/;return null==e.section_content||""==e.section_content?(this.common.presentToast("Enter address url","Error"),!1):0!=t.test(e.section_content)||(this.common.presentToast("Enter valid address url.","Error"),!1)}return!("contactus"!=n&&"faq_item"!=t||(null==e.section_title||""==e.section_title?(this.common.presentToast("Enter section title","Error"),1):null==e.section_title_fr||""==e.section_title_fr?(this.common.presentToast("Enter section title for francaise","Error"),1):null==e.section_content||""==e.section_content?(this.common.presentToast("Enter section content","Error"),1):(null==e.section_content_fr||""==e.section_content_fr)&&(this.common.presentToast("Enter section content for francaise","Error"),1)))}))}}return e.\u0275fac=function(t){return new(t||e)(s["\u0275\u0275inject"](r.a))},e.\u0275prov=s["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var d=n("AytR"),m=n("PFrW"),p=(n("vQDl"),n("lb/0"),n("3Pt+"));function g(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"nb-list-item",6),s["\u0275\u0275elementStart"](1,"div",7),s["\u0275\u0275elementStart"](2,"h6"),s["\u0275\u0275text"](3,"Section title"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](4,"div",8),s["\u0275\u0275text"](5),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&e){const e=s["\u0275\u0275nextContext"](2);s["\u0275\u0275advance"](5),s["\u0275\u0275textInterpolate1"](" ",e.dialogData.section_title," ")}}function u(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"nb-list-item",6),s["\u0275\u0275elementStart"](1,"div",7),s["\u0275\u0275elementStart"](2,"h6"),s["\u0275\u0275text"](3,"Section title - FR"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](4,"div",8),s["\u0275\u0275text"](5),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&e){const e=s["\u0275\u0275nextContext"](2);s["\u0275\u0275advance"](5),s["\u0275\u0275textInterpolate1"](" ",e.dialogData.section_title_fr," ")}}function f(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"nb-list-item",6),s["\u0275\u0275elementStart"](1,"div",7),s["\u0275\u0275elementStart"](2,"h6"),s["\u0275\u0275text"](3,"Section content"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](4,"div",10),s["\u0275\u0275elementEnd"]()),2&e){const e=s["\u0275\u0275nextContext"](2);s["\u0275\u0275advance"](4),s["\u0275\u0275property"]("innerHTML",e.dialogData.section_content,s["\u0275\u0275sanitizeHtml"])}}function h(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"nb-list-item",6),s["\u0275\u0275elementStart"](1,"div",7),s["\u0275\u0275elementStart"](2,"h6"),s["\u0275\u0275text"](3,"Section content - FR"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](4,"div",10),s["\u0275\u0275elementEnd"]()),2&e){const e=s["\u0275\u0275nextContext"](2);s["\u0275\u0275advance"](4),s["\u0275\u0275property"]("innerHTML",e.dialogData.section_content_fr,s["\u0275\u0275sanitizeHtml"])}}function b(e,t){if(1&e&&s["\u0275\u0275element"](0,"img",13),2&e){const e=s["\u0275\u0275nextContext"](3);s["\u0275\u0275property"]("src",e.base_url+"uploads/sliders/"+e.dialogData.section_image,s["\u0275\u0275sanitizeUrl"])}}function _(e,t){if(1&e&&s["\u0275\u0275element"](0,"img",13),2&e){const e=s["\u0275\u0275nextContext"](3);s["\u0275\u0275property"]("src",e.base_url+"uploads/banners/"+e.dialogData.section_image,s["\u0275\u0275sanitizeUrl"])}}function S(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"nb-list-item",6),s["\u0275\u0275elementStart"](1,"div",7),s["\u0275\u0275elementStart"](2,"h6"),s["\u0275\u0275text"](3,"Section Image"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](4,"div",11),s["\u0275\u0275template"](5,b,1,1,"img",12),s["\u0275\u0275template"](6,_,1,1,"img",12),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&e){const e=s["\u0275\u0275nextContext"](2);s["\u0275\u0275advance"](5),s["\u0275\u0275property"]("ngIf","slider"==e.dialogData.section_name),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf","banner"==e.dialogData.section_name)}}function x(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"nb-list",5),s["\u0275\u0275elementStart"](1,"nb-list-item",6),s["\u0275\u0275elementStart"](2,"div",7),s["\u0275\u0275elementStart"](3,"h6"),s["\u0275\u0275text"](4,"Page"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](5,"div",8),s["\u0275\u0275text"](6),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](7,"nb-list-item",6),s["\u0275\u0275elementStart"](8,"div",7),s["\u0275\u0275elementStart"](9,"h6"),s["\u0275\u0275text"](10,"Section name"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](11,"div",8),s["\u0275\u0275text"](12),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](13,g,6,1,"nb-list-item",9),s["\u0275\u0275template"](14,u,6,1,"nb-list-item",9),s["\u0275\u0275template"](15,f,5,1,"nb-list-item",9),s["\u0275\u0275template"](16,h,5,1,"nb-list-item",9),s["\u0275\u0275template"](17,S,7,2,"nb-list-item",9),s["\u0275\u0275elementEnd"]()),2&e){const e=s["\u0275\u0275nextContext"]();s["\u0275\u0275advance"](6),s["\u0275\u0275textInterpolate1"](" ",e.dialogData.page_name," "),s["\u0275\u0275advance"](6),s["\u0275\u0275textInterpolate1"](" ",e.pageNameTranslator(e.dialogData.section_name)," "),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf",e.dialogData.section_title&&e.dialogData.section_title),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf","1"!=e.dialogData.need_image_upload_only&&e.dialogData.section_title_fr),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf","1"!=e.dialogData.need_image_upload_only&&e.dialogData.section_content),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf","1"!=e.dialogData.need_image_upload_only&&e.dialogData.section_content_fr),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf","1"==e.dialogData.need_image_upload)}}function v(e,t){if(1&e){const e=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"nb-list-item",6),s["\u0275\u0275elementStart"](1,"div",7),s["\u0275\u0275elementStart"](2,"h6"),s["\u0275\u0275text"](3,"Page"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](4,"div",8),s["\u0275\u0275elementStart"](5,"input",15),s["\u0275\u0275listener"]("ngModelChange",(function(t){return s["\u0275\u0275restoreView"](e),s["\u0275\u0275nextContext"](2).dialogData.page_name=t})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()}if(2&e){const e=s["\u0275\u0275nextContext"](2);s["\u0275\u0275advance"](5),s["\u0275\u0275property"]("ngModel",e.dialogData.page_name)}}function E(e,t){if(1&e){const e=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"nb-list-item",6),s["\u0275\u0275elementStart"](1,"div",7),s["\u0275\u0275elementStart"](2,"h6"),s["\u0275\u0275text"](3,"Section Name"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](4,"div",8),s["\u0275\u0275elementStart"](5,"input",16),s["\u0275\u0275listener"]("ngModelChange",(function(t){return s["\u0275\u0275restoreView"](e),s["\u0275\u0275nextContext"](2).dialogData.section_name=t})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()}if(2&e){const e=s["\u0275\u0275nextContext"](2);s["\u0275\u0275advance"](5),s["\u0275\u0275property"]("ngModel",e.dialogData.section_name)}}function w(e,t){if(1&e){const e=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"nb-list-item",6),s["\u0275\u0275elementStart"](1,"div",7),s["\u0275\u0275elementStart"](2,"h6"),s["\u0275\u0275text"](3,"Section title"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](4,"div",8),s["\u0275\u0275elementStart"](5,"input",17),s["\u0275\u0275listener"]("ngModelChange",(function(t){return s["\u0275\u0275restoreView"](e),s["\u0275\u0275nextContext"](2).dialogData.section_title=t})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()}if(2&e){const e=s["\u0275\u0275nextContext"](2);s["\u0275\u0275advance"](5),s["\u0275\u0275property"]("disabled","social_link"==e.dialogData.section_name)("ngModel",e.dialogData.section_title)}}function C(e,t){if(1&e){const e=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"nb-list-item",6),s["\u0275\u0275elementStart"](1,"div",7),s["\u0275\u0275elementStart"](2,"h6"),s["\u0275\u0275text"](3,"Section title - FR"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](4,"div",8),s["\u0275\u0275elementStart"](5,"input",18),s["\u0275\u0275listener"]("ngModelChange",(function(t){return s["\u0275\u0275restoreView"](e),s["\u0275\u0275nextContext"](2).dialogData.section_title_fr=t})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()}if(2&e){const e=s["\u0275\u0275nextContext"](2);s["\u0275\u0275advance"](5),s["\u0275\u0275property"]("ngModel",e.dialogData.section_title_fr)}}function y(e,t){if(1&e){const e=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"nb-list-item",6),s["\u0275\u0275elementStart"](1,"div",7),s["\u0275\u0275elementStart"](2,"h6"),s["\u0275\u0275text"](3,"Section content"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](4,"div",8),s["\u0275\u0275elementStart"](5,"input",19),s["\u0275\u0275listener"]("ngModelChange",(function(t){return s["\u0275\u0275restoreView"](e),s["\u0275\u0275nextContext"](2).dialogData.section_content=t})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()}if(2&e){const e=s["\u0275\u0275nextContext"](2);s["\u0275\u0275advance"](5),s["\u0275\u0275property"]("ngModel",e.dialogData.section_content)}}function D(e,t){if(1&e){const e=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"nb-list-item",6),s["\u0275\u0275elementStart"](1,"div",7),s["\u0275\u0275elementStart"](2,"h6"),s["\u0275\u0275text"](3,"Section content - FR"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](4,"div",8),s["\u0275\u0275elementStart"](5,"input",20),s["\u0275\u0275listener"]("ngModelChange",(function(t){return s["\u0275\u0275restoreView"](e),s["\u0275\u0275nextContext"](2).dialogData.section_content_fr=t})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()}if(2&e){const e=s["\u0275\u0275nextContext"](2);s["\u0275\u0275advance"](5),s["\u0275\u0275property"]("ngModel",e.dialogData.section_content_fr)}}function I(e,t){if(1&e){const e=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"nb-list-item",6),s["\u0275\u0275elementStart"](1,"div",7),s["\u0275\u0275elementStart"](2,"h6"),s["\u0275\u0275text"](3,"Choose page"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](4,"div",8),s["\u0275\u0275elementStart"](5,"nb-select",21),s["\u0275\u0275listener"]("ngModelChange",(function(t){return s["\u0275\u0275restoreView"](e),s["\u0275\u0275nextContext"](2).dialogData.page_name=t})),s["\u0275\u0275elementStart"](6,"nb-option",22),s["\u0275\u0275text"](7,"Home page"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](8,"nb-option",23),s["\u0275\u0275text"](9,"Trains Page"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](10,"nb-option",24),s["\u0275\u0275text"](11,"Buses Page"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](12,"nb-option",25),s["\u0275\u0275text"](13,"Flights Page"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](14,"nb-option",26),s["\u0275\u0275text"](15,"Parcels page"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()}if(2&e){const e=s["\u0275\u0275nextContext"](2);s["\u0275\u0275advance"](5),s["\u0275\u0275property"]("ngModel",e.dialogData.page_name)}}function T(e,t){if(1&e&&s["\u0275\u0275element"](0,"img",13),2&e){const e=s["\u0275\u0275nextContext"](4);s["\u0275\u0275property"]("src",e.base_url+"uploads/sliders/"+e.dialogData.section_image,s["\u0275\u0275sanitizeUrl"])}}function M(e,t){if(1&e&&s["\u0275\u0275element"](0,"img",13),2&e){const e=s["\u0275\u0275nextContext"](4);s["\u0275\u0275property"]("src",e.base_url+"uploads/banners/"+e.dialogData.section_image,s["\u0275\u0275sanitizeUrl"])}}function k(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"div",31),s["\u0275\u0275template"](1,T,1,1,"img",12),s["\u0275\u0275template"](2,M,1,1,"img",12),s["\u0275\u0275elementEnd"]()),2&e){const e=s["\u0275\u0275nextContext"](3);s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf","slider"==e.dialogData.section_name),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf","banner"==e.dialogData.section_name)}}function F(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"span",32),s["\u0275\u0275text"](1,"The image dimension should be, (390px, 260px)"),s["\u0275\u0275elementEnd"]())}function R(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"span",32),s["\u0275\u0275text"](1,"The image dimension should be, (2000, 516px)"),s["\u0275\u0275elementEnd"]())}function V(e,t){if(1&e){const e=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"nb-list-item",6),s["\u0275\u0275elementStart"](1,"div",7),s["\u0275\u0275elementStart"](2,"h6"),s["\u0275\u0275text"](3,"Section Image"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](4,"div",8),s["\u0275\u0275elementStart"](5,"input",27),s["\u0275\u0275listener"]("change",(function(t){return s["\u0275\u0275restoreView"](e),s["\u0275\u0275nextContext"](2).onFileChange(t)})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](6,k,3,2,"div",28),s["\u0275\u0275elementStart"](7,"div",29),s["\u0275\u0275template"](8,F,2,0,"span",30),s["\u0275\u0275template"](9,R,2,0,"span",30),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()}if(2&e){const e=s["\u0275\u0275nextContext"](2);s["\u0275\u0275advance"](6),s["\u0275\u0275property"]("ngIf",e.dialogData.section_image),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("ngIf","slider"==e.dialogData.section_name),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf","banner"==e.dialogData.section_name)}}function A(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"nb-list",14),s["\u0275\u0275template"](1,v,6,1,"nb-list-item",9),s["\u0275\u0275template"](2,E,6,1,"nb-list-item",9),s["\u0275\u0275template"](3,w,6,2,"nb-list-item",9),s["\u0275\u0275template"](4,C,6,1,"nb-list-item",9),s["\u0275\u0275template"](5,y,6,1,"nb-list-item",9),s["\u0275\u0275template"](6,D,6,1,"nb-list-item",9),s["\u0275\u0275template"](7,I,16,1,"nb-list-item",9),s["\u0275\u0275template"](8,V,10,3,"nb-list-item",9),s["\u0275\u0275elementEnd"]()),2&e){const e=s["\u0275\u0275nextContext"]();s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf","1"!=e.dialogData.need_image_upload_only),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf","1"!=e.dialogData.need_image_upload_only),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf","1"!=e.dialogData.need_image_upload_only),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf","1"!=e.dialogData.need_image_upload_only&&"social_link"!=e.dialogData.section_name),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf","1"!=e.dialogData.need_image_upload_only),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf","1"!=e.dialogData.need_image_upload_only&&"social_link"!=e.dialogData.section_name),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf","slider"==e.dialogData.section_name),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf","banner"==e.dialogData.section_name||"slider"==e.dialogData.section_name)}}function P(e,t){if(1&e){const e=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"button",37),s["\u0275\u0275listener"]("click",(function(){return s["\u0275\u0275restoreView"](e),s["\u0275\u0275nextContext"](2).deleteItem()})),s["\u0275\u0275text"](1,"Delete"),s["\u0275\u0275elementEnd"]()}}function N(e,t){if(1&e){const e=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"nb-card-footer"),s["\u0275\u0275elementStart"](1,"div",33),s["\u0275\u0275elementStart"](2,"button",34),s["\u0275\u0275listener"]("click",(function(){return s["\u0275\u0275restoreView"](e),s["\u0275\u0275nextContext"]().closeWindow()})),s["\u0275\u0275text"](3,"Cancel"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](4,P,2,0,"button",35),s["\u0275\u0275elementStart"](5,"button",36),s["\u0275\u0275listener"]("click",(function(){return s["\u0275\u0275restoreView"](e),s["\u0275\u0275nextContext"]().submitFormResults()})),s["\u0275\u0275text"](6),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()}if(2&e){const e=s["\u0275\u0275nextContext"]();s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("disabled",e.loading),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("ngIf",("faq_item"==e.dialogData.section_name||"slider"==e.dialogData.section_name)&&"add"!=e.dialogAction),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("disabled",e.loading),s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate"]("edit"==e.dialogAction?"Update":"Add")}}let j=(()=>{class e{constructor(e,t,n,a,i){this.windowRef=t,this.formService=n,this.common=a,this.web=i,this.base_url=d.a.base_url,this.loading=!1,this.dialogData=e.data,this.dialogAction=e.action,this.dialogData.action=e.action}closeWindow(){this.windowRef.close()}deleteItem(){window.confirm("Are you sure to delete an item..?")&&(this.loading=!0,this.web.postData("deleteWebsiteContent",{id:this.dialogData.web_id}).then(e=>{this.loading=!1,"200"==e.status?(this.common.presentToast(e.error,"Success"),this.closeWindow()):this.common.presentToast(e.error,"Error")},e=>{this.loading=!1,console.log(e),this.common.presentToast("Connection Error","Error")}))}ngOnInit(){return Object(o.a)(this,void 0,void 0,(function*(){console.log(this.dialogData)}))}onFileChange(e){e.target.files.length>0&&this.onSubmit(e.target.files)}onSubmit(e){let t=(new Date).valueOf(),n=e[0].name;n=n.substring(n.lastIndexOf(".")+1,n.length)||n;let a="EasyTravel_"+t.toString().substring(4,8)+e[0].name;const i=new FormData;i.append("image",e[0]),i.append("image",a),i.append("profile_image",a),console.log(a),this.loading=!0,this.web.uploadWebsitePicture(this.base_url+"AppServer/upload_website_image.php?section="+this.dialogData.section_name+"&filename="+a,i).subscribe(e=>{this.loading=!1,console.log(e),"200"==e.status?(this.common.presentToast(e.error,"Success"),this.dialogData.section_image=a):this.common.presentToast(e.error,"Error")},e=>{this.loading=!1,this.common.presentToast("Connection Error","Error")})}pageNameTranslator(e){return e.split("_").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" ")}submitFormResults(){return Object(o.a)(this,void 0,void 0,(function*(){(yield this.formService.contentsFormValidation(this.dialogData))&&(this.loading=!0,this.web.postData("updateOtherContent",this.dialogData).then(e=>{this.loading=!1,"200"==e.status?(this.closeWindow(),this.common.presentToast(e.error,"Success")):this.common.presentToast(e.error,"Error")},e=>{this.loading=!1,console.log(e,"Error"),this.common.presentToast("Connection Error.","Error")}))}))}}return e.\u0275fac=function(t){return new(t||e)(s["\u0275\u0275directiveInject"](l.g),s["\u0275\u0275directiveInject"](l.wb),s["\u0275\u0275directiveInject"](c),s["\u0275\u0275directiveInject"](r.a),s["\u0275\u0275directiveInject"](m.a))},e.\u0275cmp=s["\u0275\u0275defineComponent"]({type:e,selectors:[["ngx-contents-form"]],decls:5,vars:4,consts:[["accent","info"],["nbSpinnerStatus","danger",3,"nbSpinner"],["class","dialog-list",4,"ngIf"],["class","dialog-list content",4,"ngIf"],[4,"ngIf"],[1,"dialog-list"],[1,"row"],[1,"title","col-4"],[1,"content","col-8"],["class","row",4,"ngIf"],[1,"content","col-8",3,"innerHTML"],[1,"content","col-8","section_image"],["alt","EasyTravel",3,"src",4,"ngIf"],["alt","EasyTravel",3,"src"],[1,"dialog-list","content"],["type","text","id","section_content","disabled","","nbInput","","fullWidth","","status","basic","placeholder","Title",3,"ngModel","ngModelChange"],["type","text","disabled","","nbInput","","fullWidth","","status","basic","placeholder","Title",3,"ngModel","ngModelChange"],["type","text","nbInput","","fullWidth","","status","basic","placeholder","Title",3,"disabled","ngModel","ngModelChange"],["type","text","nbInput","","fullWidth","","status","basic","placeholder","Title",3,"ngModel","ngModelChange"],["type","text","nbInput","","fullWidth","","status","basic","placeholder","Content",3,"ngModel","ngModelChange"],["type","text","id","section_content_fr","nbInput","","fullWidth","","status","basic","placeholder","Content - FR",3,"ngModel","ngModelChange"],["placeholder","Select page",3,"ngModel","ngModelChange"],["value","home"],["value","trains"],["value","buses"],["value","flights"],["value","parcels"],["type","file","name","profile_image","id","imageUpload","accept","image/*",3,"change"],["class","pt-3 section_image",4,"ngIf"],[1,"pt-3"],["style","font-style:italic",4,"ngIf"],[1,"pt-3","section_image"],[2,"font-style","italic"],[1,"mt-3"],["status","danger",1,"btn","btn-danger",3,"disabled","click"],["class","btn btn-dark ml-3",3,"click",4,"ngIf"],["status","primary",1,"btn","btn-primary","ml-3",3,"disabled","click"],[1,"btn","btn-dark","ml-3",3,"click"]],template:function(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"nb-card",0),s["\u0275\u0275elementStart"](1,"nb-card-body",1),s["\u0275\u0275template"](2,x,18,7,"nb-list",2),s["\u0275\u0275template"](3,A,9,8,"nb-list",3),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](4,N,7,4,"nb-card-footer",4),s["\u0275\u0275elementEnd"]()),2&e&&(s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("nbSpinner",t.loading),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf","view"==t.dialogAction),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf","edit"==t.dialogAction||"add"==t.dialogAction),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf","view"!=t.dialogAction))},directives:[l.s,l.r,l.kb,a.NgIf,l.R,l.S,l.I,p.DefaultValueAccessor,p.NgControlStatus,p.NgModel,l.fb,l.Y,l.t],styles:["nb-list-item .title h6{font-weight:600;margin:unset}nb-list-item .content .title{margin-top:10px}nb-list-item .content pre{background:#efeaea;display:block}nb-card-body{max-height:80vh;overflow:scroll;min-width:700px}.pdf-icon{font-size:3rem;background:#efeaea;padding:30px}.max-height-100{max-height:100px}.color-unset{color:unset!important}.dialog-list{overflow:unset!important}.heading-trip{min-width:100%;display:block;color:#0095ff;margin-bottom:23px;font-size:25px;background:#f1f1f1;padding:10px;border-top:2px solid}.nb-theme-default nb-option-list{min-width:300px!important}.content nb-list-item{align-items:end}.section_image img{max-width:100%}"],encapsulation:2}),e})();class O{constructor(e={}){this.web_id=e.web_id||"",this.action=e.action||"",this.page_name=e.page_name||"",this.section_name=e.section_name||"",this.section_title=e.section_title||"",this.section_title_fr=e.section_title_fr||"",this.section_content=e.section_content||"",this.section_content_fr=e.section_content_fr||"",this.section_image=e.section_image||"",this.need_editor=e.need_editor||"",this.need_image_upload=e.need_image_upload||"",this.need_image_upload_only=e.need_image_upload_only||""}}var W=n("RS3s");function B(e,t){if(1&e){const e=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementStart"](0,"button",3),s["\u0275\u0275listener"]("click",(function(){return s["\u0275\u0275restoreView"](e),s["\u0275\u0275nextContext"]().createRow()})),s["\u0275\u0275text"](1),s["\u0275\u0275elementEnd"]()}if(2&e){const e=s["\u0275\u0275nextContext"]();s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate"]("Faq Item"==e.pageName?"Add FAQ item":"Add Images")}}const z=[{path:":section",component:(()=>{class e{constructor(e,t,n,a){this.windowService=e,this.web=t,this.common=n,this.activeRoute=a,this.base_url=d.a.base_url,this.tableSettings={add:{addButtonContent:'<i class="nb-plus"></i>'},edit:{editButtonContent:'<i class="fa fa-edit"></i>'},delete:{deleteButtonContent:'<i class="fa fa-trash"></i>'},actions:{columnTitle:"Actions",add:!1,edit:!0,delete:!1,position:"right"},sort:!0,mode:"external",pager:{perPage:10},columns:{page_name:{title:"Page",type:"string",width:"150px",valuePrepareFunction:e=>e.charAt(0).toUpperCase()+e.slice(1)},section_name:{title:"Section name",type:"string",width:"200px",show:!1,valuePrepareFunction:e=>e.charAt(0).toUpperCase()+e.slice(1)},section_title:{title:"Section title",type:"string",valuePrepareFunction:e=>e||"---"},section_content:{title:"Content",type:"html",valuePrepareFunction:(e,t)=>{let n="uploads/sliders/";"banner"==t.section_name&&(n="uploads/banners/");let a="";return a="1"==t.need_image_upload?'<img class="slider_image" src="'+this.base_url+n+t.section_image+'">':e.length>100?e.substring(0,100)+"...":e,a}}}}}ngOnInit(){this.activeRoute.paramMap.subscribe(e=>{console.log(e),e.has("section")&&(this.loading||this.getPageData(e.params.section),this.pageNameCalculator(e.params.section))})}ngOnDestroy(){console.log("destroy")}createRow(){let e=this.createRowCalculate(),t=this.windowService.open(j,{title:"Add Content",hasBackdrop:!0,closeOnBackdropClick:!1,context:{data:e,action:"add"},windowClass:"formWindow"});this.webSubscription=t.onClose.pipe().subscribe(e=>{console.log(e),this.ngOnInit()})}createRowCalculate(){let e=new O,t=this.pageName;return"Banner"!=t&&"Slider"!=t||(e.section_name="Banner"==t?"banner":"slider",e.need_image_upload="1",e.need_image_upload_only="1"),"Faq Item"==t&&(e.page_name="becomeapartner",e.need_image_upload="0",e.section_name="faq_item",e.need_image_upload_only="0"),e}deleteRow(e){console.log(e),window.confirm("Are you sure you want to delete?")&&this.web.postData("contentDelete",e.data).then(e=>{"200"==e.status?(this.common.presentToast(e.error,"Success"),this.ngOnInit()):this.common.presentToast(e.error,"Failed")},e=>{this.common.presentToast("Connection Error")})}editRow(e){let t=this.windowService.open(j,{title:"Edit Contents",hasBackdrop:!0,closeOnBackdropClick:!1,context:{data:e.data,action:"edit"},windowClass:"formWindow"});this.webSubscription=t.onClose.subscribe(e=>{console.log(e),this.ngOnInit()})}getPageData(e){this.loading=!0,this.web.getData("getWebsiteContents?section="+e).then(e=>{this.loading=!1,"200"==e.status?this.mappingTableData(e.data):this.common.presentToast(e.error,"Error")},e=>{this.loading=!1,this.common.presentToast("Connection Error","Error")}),console.log(e)}mappingTableData(e){this.tableSource=e,this.tableSourceTemp=JSON.parse(JSON.stringify(e)),this.tableSource.map(e=>e)}pageNameCalculator(e){let t=e.split("_").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" ");this.pageName=t}selectRow(e){let t=this.windowService.open(j,{title:"View Content",hasBackdrop:!0,closeOnBackdropClick:!1,context:{data:e.data,action:"view"},windowClass:"formWindow"});this.webSubscription=t.onClose.pipe().subscribe(e=>{console.log(e)})}}return e.\u0275fac=function(t){return new(t||e)(s["\u0275\u0275directiveInject"](l.xb),s["\u0275\u0275directiveInject"](m.a),s["\u0275\u0275directiveInject"](r.a),s["\u0275\u0275directiveInject"](i.a))},e.\u0275cmp=s["\u0275\u0275defineComponent"]({type:e,selectors:[["ngx-contents"]],decls:6,vars:6,consts:[[3,"nbSpinner","nbSpinnerMessage"],["class","btn btn-primary float-right",3,"click",4,"ngIf"],[3,"settings","source","userRowSelect","edit","delete"],[1,"btn","btn-primary","float-right",3,"click"]],template:function(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"nb-card",0),s["\u0275\u0275elementStart"](1,"nb-card-header"),s["\u0275\u0275text"](2),s["\u0275\u0275template"](3,B,2,1,"button",1),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](4,"nb-card-body"),s["\u0275\u0275elementStart"](5,"ng2-smart-table",2),s["\u0275\u0275listener"]("userRowSelect",(function(e){return t.selectRow(e)}))("edit",(function(e){return t.editRow(e)}))("delete",(function(e){return t.deleteRow(e)})),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&e&&(s["\u0275\u0275property"]("nbSpinner",t.loading)("nbSpinnerMessage","Fetching deta.."),s["\u0275\u0275advance"](2),s["\u0275\u0275textInterpolate1"](" Manage Contents - ",t.pageName," "),s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngIf","Contacts"!=t.pageName&&"Social Link"!=t.pageName&&"Banner"!=t.pageName),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("settings",t.tableSettings)("source",t.tableSource))},directives:[l.s,l.kb,l.u,a.NgIf,l.r,W.a],styles:[".times{color:red}.check,.times{width:100%;text-align:center;font-size:1.5rem;cursor:pointer}.check{color:green}.nb-theme-default ng2-smart-table .ng2-smart-actions a.ng2-smart-action{font-size:1.3rem!important}.slider_image{max-width:20vw}"],encapsulation:2}),e})()}];let U=(()=>{class e{}return e.\u0275mod=s["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=s["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[i.g.forChild(z)],i.g]}),e})();var H=n("9A7S");let q=(()=>{class e{}return e.\u0275mod=s["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=s["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},providers:[c,a.DatePipe],imports:[[a.CommonModule,U,l.v,l.T,l.J,p.FormsModule,W.b,l.q,l.vb.forChild(),l.lb,l.gb,l.l,H.CKEditorModule]]}),e})()},vQDl:function(e,t){window.CKEDITOR_BASEPATH="//cdn.ckeditor.com/4.6.2/full-all/"}}]);
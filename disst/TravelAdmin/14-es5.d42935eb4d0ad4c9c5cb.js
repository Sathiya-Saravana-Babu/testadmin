!function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{F4UR:function(n,r,s){"use strict";s.r(r),s.d(r,"LoginModule",(function(){return S}));var a=s("ofXK"),o=s("McNs"),i=s("aceb"),l=s("tyNb"),u=s("sAl5"),d=s("PFrW"),c=s("fXoL"),m=s("3Pt+");function p(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"p",16),c["\u0275\u0275text"](1," Username is required! "),c["\u0275\u0275elementEnd"]())}function g(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"p",16),c["\u0275\u0275text"](1," Username is real one! "),c["\u0275\u0275elementEnd"]())}function f(e,t){if(1&e&&(c["\u0275\u0275elementContainerStart"](0),c["\u0275\u0275template"](1,p,2,0,"p",15),c["\u0275\u0275template"](2,g,2,0,"p",15),c["\u0275\u0275elementContainerEnd"]()),2&e){c["\u0275\u0275nextContext"]();var n=c["\u0275\u0275reference"](11);c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",null==n.errors?null:n.errors.required),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("ngIf",null==n.errors?null:n.errors.pattern)}}var h,b,v,y=[{path:"",component:o.a,children:[{path:"",component:(h=function(){function n(t,r,s){e(this,n),this.common=t,this.router=r,this.web=s,this.user={},this.showMessages={},this.submissionStatus=!1}var r,s,a;return r=n,(s=[{key:"ngOnInit",value:function(){this.checkLoggedIn()}},{key:"submitForm",value:function(){var e=this;console.log(this.user),null==this.user.username||""==this.user.username?(this.common.presentToast("Please enter username"),document.getElementById("username").focus()):null==this.user.password||""==this.user.password?(this.common.presentToast("Please enter password"),document.getElementById("password").focus()):(this.submissionStatus=!0,this.web.postData("adminLogin",this.user).then((function(t){e.submissionStatus=!1,console.log(t),"200"==t.status?(localStorage.setItem("travelAdminId",t.data.web_id),e.common.presentToast("Successfully logged in","Success"),e.router.navigate(["/pages"])):e.common.presentToast(t.error,"Error")}),(function(t){e.submissionStatus=!1,e.common.presentToast("Connection Error","Error")})))}},{key:"checkLoggedIn",value:function(){var e=localStorage.getItem("travelAdminId");null!=e&&""!=e&&this.router.navigate(["/pages"])}}])&&t(r.prototype,s),a&&t(r,a),n}(),h.\u0275fac=function(e){return new(e||h)(c["\u0275\u0275directiveInject"](u.a),c["\u0275\u0275directiveInject"](l.c),c["\u0275\u0275directiveInject"](d.a))},h.\u0275cmp=c["\u0275\u0275defineComponent"]({type:h,selectors:[["ngx-login"]],decls:21,vars:9,consts:[[1,"text-center"],["src","assets/images/logo1.png","alt","EasyTravel"],["id","title",1,"title"],[1,"sub-title"],["aria-labelledby","title",3,"nbSpinner"],[1,"form-control-group"],["for","input-username",1,"label"],["nbInput","","fullWidth","","name","username","id","username","placeholder","Username","fieldSize","large","autofocus","",3,"ngModel","status","ngModelChange"],["username","ngModel"],[4,"ngIf"],[1,"label-with-link"],["for","input-password",1,"label"],["nbInput","","fullWidth","","name","password","type","password","id","password","placeholder","Password","fieldSize","large",3,"ngModel","status","ngModelChange"],["password","ngModel"],["nbButton","","fullWidth","","status","primary","size","large",3,"disabled","click"],["class","caption status-danger",4,"ngIf"],[1,"caption","status-danger"]],template:function(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"p",0),c["\u0275\u0275element"](1,"img",1),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](2,"h1",2),c["\u0275\u0275text"](3,"Login - EasyTravel Admin"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](4,"p",3),c["\u0275\u0275text"](5,"Hello! Log in with your username."),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](6,"form",4),c["\u0275\u0275elementStart"](7,"div",5),c["\u0275\u0275elementStart"](8,"label",6),c["\u0275\u0275text"](9,"Username:"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](10,"input",7,8),c["\u0275\u0275listener"]("ngModelChange",(function(e){return t.user.username=e})),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](12,f,3,2,"ng-container",9),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](13,"div",5),c["\u0275\u0275elementStart"](14,"span",10),c["\u0275\u0275elementStart"](15,"label",11),c["\u0275\u0275text"](16,"Password:"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](17,"input",12,13),c["\u0275\u0275listener"]("ngModelChange",(function(e){return t.user.password=e})),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](19,"button",14),c["\u0275\u0275listener"]("click",(function(){return t.submitForm()})),c["\u0275\u0275text"](20," Log In "),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()),2&e){var n=c["\u0275\u0275reference"](11),r=c["\u0275\u0275reference"](18);c["\u0275\u0275advance"](6),c["\u0275\u0275property"]("nbSpinner",t.submissionStatus),c["\u0275\u0275advance"](4),c["\u0275\u0275property"]("ngModel",t.user.username)("status",n.dirty?n.invalid?"danger":"success":"basic"),c["\u0275\u0275attribute"]("aria-invalid",!(!n.invalid||!n.touched)||null),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("ngIf",n.invalid&&n.touched),c["\u0275\u0275advance"](5),c["\u0275\u0275property"]("ngModel",t.user.password)("status",r.dirty?r.invalid?"danger":"success":"basic"),c["\u0275\u0275attribute"]("aria-invalid",!(!r.invalid||!r.touched)||null),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("disabled",""==t.user.username||""==t.user.password)}},directives:[m["\u0275angular_packages_forms_forms_y"],m.NgControlStatusGroup,m.NgForm,i.kb,i.I,m.DefaultValueAccessor,m.NgControlStatus,m.NgModel,a.NgIf,i.p],styles:["nb-icon[icon=arrow-back]{display:none}"],encapsulation:2}),h)}]}],w=((v=function t(){e(this,t)}).\u0275mod=c["\u0275\u0275defineNgModule"]({type:v}),v.\u0275inj=c["\u0275\u0275defineInjector"]({factory:function(e){return new(e||v)},imports:[[l.g.forChild(y)],l.g]}),v),S=((b=function t(){e(this,t)}).\u0275mod=c["\u0275\u0275defineNgModule"]({type:b}),b.\u0275inj=c["\u0275\u0275defineInjector"]({factory:function(e){return new(e||b)},imports:[[a.CommonModule,m.FormsModule,i.l,i.q,i.x,i.J,o.b,w,i.lb]]}),b)}}])}();
(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{F4UR:function(e,t,n){"use strict";n.r(t),n.d(t,"LoginModule",(function(){return h}));var s=n("ofXK"),r=n("McNs"),a=n("aceb"),o=n("tyNb"),l=n("sAl5"),i=n("PFrW"),u=n("fXoL"),d=n("3Pt+");function c(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"p",16),u["\u0275\u0275text"](1," Username is required! "),u["\u0275\u0275elementEnd"]())}function m(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"p",16),u["\u0275\u0275text"](1," Username is real one! "),u["\u0275\u0275elementEnd"]())}function p(e,t){if(1&e&&(u["\u0275\u0275elementContainerStart"](0),u["\u0275\u0275template"](1,c,2,0,"p",15),u["\u0275\u0275template"](2,m,2,0,"p",15),u["\u0275\u0275elementContainerEnd"]()),2&e){u["\u0275\u0275nextContext"]();const e=u["\u0275\u0275reference"](11);u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",null==e.errors?null:e.errors.required),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",null==e.errors?null:e.errors.pattern)}}const g=[{path:"",component:r.a,children:[{path:"",component:(()=>{class e{constructor(e,t,n){this.common=e,this.router=t,this.web=n,this.user={},this.showMessages={},this.submissionStatus=!1}ngOnInit(){this.checkLoggedIn()}submitForm(){console.log(this.user),null==this.user.username||""==this.user.username?(this.common.presentToast("Please enter username"),document.getElementById("username").focus()):null==this.user.password||""==this.user.password?(this.common.presentToast("Please enter password"),document.getElementById("password").focus()):(this.submissionStatus=!0,this.web.postData("adminLogin",this.user).then(e=>{this.submissionStatus=!1,console.log(e),"200"==e.status?(localStorage.setItem("travelAdminId",e.data.web_id),this.common.presentToast("Successfully logged in","Success"),this.router.navigate(["/pages"])):this.common.presentToast(e.error,"Error")},e=>{this.submissionStatus=!1,this.common.presentToast("Connection Error","Error")}))}checkLoggedIn(){let e=localStorage.getItem("travelAdminId");null!=e&&""!=e&&this.router.navigate(["/pages"])}}return e.\u0275fac=function(t){return new(t||e)(u["\u0275\u0275directiveInject"](l.a),u["\u0275\u0275directiveInject"](o.c),u["\u0275\u0275directiveInject"](i.a))},e.\u0275cmp=u["\u0275\u0275defineComponent"]({type:e,selectors:[["ngx-login"]],decls:21,vars:9,consts:[[1,"text-center"],["src","assets/images/logo1.png","alt","EasyTravel"],["id","title",1,"title"],[1,"sub-title"],["aria-labelledby","title",3,"nbSpinner"],[1,"form-control-group"],["for","input-username",1,"label"],["nbInput","","fullWidth","","name","username","id","username","placeholder","Username","fieldSize","large","autofocus","",3,"ngModel","status","ngModelChange"],["username","ngModel"],[4,"ngIf"],[1,"label-with-link"],["for","input-password",1,"label"],["nbInput","","fullWidth","","name","password","type","password","id","password","placeholder","Password","fieldSize","large",3,"ngModel","status","ngModelChange"],["password","ngModel"],["nbButton","","fullWidth","","status","primary","size","large",3,"disabled","click"],["class","caption status-danger",4,"ngIf"],[1,"caption","status-danger"]],template:function(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"p",0),u["\u0275\u0275element"](1,"img",1),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](2,"h1",2),u["\u0275\u0275text"](3,"Login - EasyTravel Admin"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](4,"p",3),u["\u0275\u0275text"](5,"Hello! Log in with your username."),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](6,"form",4),u["\u0275\u0275elementStart"](7,"div",5),u["\u0275\u0275elementStart"](8,"label",6),u["\u0275\u0275text"](9,"Username:"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](10,"input",7,8),u["\u0275\u0275listener"]("ngModelChange",(function(e){return t.user.username=e})),u["\u0275\u0275elementEnd"](),u["\u0275\u0275template"](12,p,3,2,"ng-container",9),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](13,"div",5),u["\u0275\u0275elementStart"](14,"span",10),u["\u0275\u0275elementStart"](15,"label",11),u["\u0275\u0275text"](16,"Password:"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](17,"input",12,13),u["\u0275\u0275listener"]("ngModelChange",(function(e){return t.user.password=e})),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](19,"button",14),u["\u0275\u0275listener"]("click",(function(){return t.submitForm()})),u["\u0275\u0275text"](20," Log In "),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()),2&e){const e=u["\u0275\u0275reference"](11),n=u["\u0275\u0275reference"](18);u["\u0275\u0275advance"](6),u["\u0275\u0275property"]("nbSpinner",t.submissionStatus),u["\u0275\u0275advance"](4),u["\u0275\u0275property"]("ngModel",t.user.username)("status",e.dirty?e.invalid?"danger":"success":"basic"),u["\u0275\u0275attribute"]("aria-invalid",!(!e.invalid||!e.touched)||null),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngIf",e.invalid&&e.touched),u["\u0275\u0275advance"](5),u["\u0275\u0275property"]("ngModel",t.user.password)("status",n.dirty?n.invalid?"danger":"success":"basic"),u["\u0275\u0275attribute"]("aria-invalid",!(!n.invalid||!n.touched)||null),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("disabled",""==t.user.username||""==t.user.password)}},directives:[d["\u0275angular_packages_forms_forms_y"],d.NgControlStatusGroup,d.NgForm,a.kb,a.I,d.DefaultValueAccessor,d.NgControlStatus,d.NgModel,s.NgIf,a.p],styles:["nb-icon[icon=arrow-back]{display:none}"],encapsulation:2}),e})()}]}];let f=(()=>{class e{}return e.\u0275mod=u["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=u["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[o.g.forChild(g)],o.g]}),e})(),h=(()=>{class e{}return e.\u0275mod=u["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=u["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[s.CommonModule,d.FormsModule,a.l,a.q,a.x,a.J,r.b,f,a.lb]]}),e})()}}]);